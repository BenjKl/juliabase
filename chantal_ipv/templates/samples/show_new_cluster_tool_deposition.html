{# -*- indent-tabs-mode: nil -*- #}
{% comment %}
This file is part of Chantal, the samples database.

Copyright (C) 2010 Forschungszentrum Jülich, Germany,
                   Marvin Goblet <m.goblet@fz-juelich.de>,
                   Torsten Bronger <t.bronger@fz-juelich.de>

You must not use, install, pass on, offer, sell, analyse, modify, or distribute
this software without explicit permission of the copyright holder.  If you have
received a copy of this software without the explicit permission of the
copyright holder, you must destroy it immediately and completely.
{% endcomment %}

{% load i18n %}
{% load samples_extras %}
{% load ipv_extras %}

<p>
  <span class="label">{% verbose_name Deposition.number %}:</span><span class="value"
    style="margin-right: 4em">{{ process.number }}</span>
  <span class="label">{% verbose_name NewClusterToolDeposition.carrier %}:</span><span class="value">{{ process.carrier|default:"—" }}</span>
</p>

{% if process.comments %}
  <blockquote>{{ process.comments|markdown_samples }}</blockquote>
{% endif %}

<table style="width: 100%">
  <tbody>
  {% for layer in layers %}
  <tr>
    <td style="border-style: solid; border-color: black; border-width: thin">
      <table style="width: 100%">
        <tbody>
        <tr>
          <td>
            <table style="width: 100%">
              <tbody>
              <tr>
                <td colspan="2" rowspan="3" style="vertical-align: top">
                  <table>
                    <tbody>
                    <tr>
                      <td style="vertical-align: top; text-align: right">
                        <div style="float: left">{% verbose_name NewClusterToolLayer.number %}:</div>
                        <div
                          style="font-size:xx-large; padding-left: 0.2em; padding-right: 0.2em;
                                 margin-left: 0.3em;
                                 border-style: solid; border-width: thin;
                                 border-color: black; float: right; clear: left">{{ layer.number }}</div>
                      </td>
                      <td style="vertical-align: top; padding-left: 2em">
                        {% ifequal layer|cluster_tool_layer_type "PECVD" %}
                          <span class="label">{% verbose_name NewClusterToolPECVDLayer.chamber %}:</span
                                ><span class="value">{{ layer.chamber }}</span>
                        {% else %}
                           
                        {% endifequal %}
                      </td>
                    </tr>
                    <tr>
                      <td colspan="2">{{ layer|cluster_tool_layer_type:"verbose" }}</td>
                    </tr>
                    </tbody>
                  </table>
                </td>
                {% ifequal layer|cluster_tool_layer_type "PECVD" %}
                {% value_field layer.transfer_in_chamber %}
                {% value_field layer.plasma_start_power "W" %}
              </tr>
              <tr>
                <td class="label">{% verbose_name NewClusterToolPECVDLayer.pre_heat %}:</td>
                <td class="value"> {{ layer.pre_heat|depostion_time }}</td>
                {% value_field layer.plasma_start_with_shutter "yes/no" %}
              </tr>
              <tr>
                {% value_field layer.heating_temperature "℃" %}
                {% value_field layer.deposition_frequency "MHz" %}
              </tr>
              <tr>
                {% value_field layer.gas_pre_heat_gas %}
                {% value_field layer.gas_pre_heat_pressure "mbar" %}
                {% value_field layer.deposition_power "W" %}
              </tr>
              <tr>
                {% value_field layer.pressure "mbar" %}
                {% value_field layer.transfer_out_of_chamber %}
                <td class="label">{% verbose_name NewClusterToolPECVDLayer.gas_pre_heat_time %}:</td>
                <td class="value"> {{ layer.gas_pre_heat_time|depostion_time }}</td>
              </tr>
              <tr>
                <td class="label">{% verbose_name NewClusterToolPECVDLayer.time %}:</td>
                <td class="value"> {{ layer.time|depostion_time }}</td>
                {% value_field layer.substrate_electrode_distance "mm" %}
                {% value_field layer.base_pressure "mbar" %}
              </tr>
                {% else %}
                  {% ifequal layer|cluster_tool_layer_type "hot-wire" %}
                {% value_field layer.transfer_in_chamber %}
                <td class="label">{% verbose_name NewClusterToolHotWireLayer.wire_material %}:</td>
                <td class="value">{{ layer.get_wire_material_display }}</td>
              </tr>
              <tr>
                <td class="label">{% verbose_name NewClusterToolHotWireLayer.pre_heat %}:</td>
                <td class="value"> {{ layer.pre_heat|depostion_time }}</td>
                {% value_field layer.voltage "V" %}
              </tr>
              <tr>
                {% value_field layer.heating_temperature "℃" %}
                {% value_field layer.current "A" %}
              </tr>
              <tr>
                {% value_field layer.gas_pre_heat_gas %}
                {% value_field layer.gas_pre_heat_pressure "mbar" %}
                {% value_field layer.wire_power "W" %}
              </tr>
              <tr>
                {% value_field layer.pressure "mbar" %}
                {% value_field layer.transfer_out_of_chamber %}
                <td class="label">{% verbose_name NewClusterToolHotWireLayer.gas_pre_heat_time %}:</td>
                <td class="value"> {{ layer.gas_pre_heat_time|depostion_time }}</td>
              </tr>
              <tr>
                <td class="label">{% verbose_name NewClusterToolHotWireLayer.time %}:</td>
                <td class="value"> {{ layer.time|depostion_time }}</td>
                {% value_field layer.substrate_wire_distance "mm" %}
                {% value_field layer.filament_temperature "℃" %}
              </tr>
              <tr>
                {% value_field layer.base_pressure %}
                <td colspan="4"></td>
              </tr>
                  {% else %}
                {% value_field layer.base_pressure "mbar" %}
                {% value_field layer.working_pressure "mbar" %}
              </tr>
              <tr>
                {% value_field layer.valve "%" %}
                {% value_field layer.set_temperature "℃" %}
              </tr>
              <tr>
                {% value_field layer.thermocouple "℃" %}
                {% value_field layer.ts "℃" %}
              </tr>
              <tr>
                {% value_field layer.loading_chamber %}
                {% value_field layer.substrate_holder %}
                {% value_field layer.pyrometer "℃" %}
              </tr>
              <tr>
                {% value_field layer.pre_heat "min" %}
                {% value_field layer.pre_sputter_time "min" %}
                <td colspan="2"></td>
              </tr>
              <tr>
                {% value_field layer.large_shutter %}
                {% value_field layer.small_shutter %}
                {% value_field layer.rotational_speed "rpm" %}
              </tr>
              <tr>
                {% for slot in layer.slots.all %}
                  <td colspan="2" style="vertical-align: top">
                    {% if slot.mode %}
                      <table style="border: thin solid black">
                        <tbody>
                        <tr>{% value_field slot.target %}</tr>
                        <tr>{% value_field slot.mode %}</tr>
                        <tr>{% value_split_field slot.power slot.power_end "W" %}</tr>
                        <tr>{% value_field slot.time "min" %}</tr>
                        {% if slot.mode != "DC" %}
                          <tr>{% value_field slot.cl %}</tr>
                          <tr>{% value_field slot.ct %}</tr>
                          <tr>{% value_field slot.refl_power "W" %}</tr>
                          <tr>{% value_split_field slot.u_bias slot.u_bias_end "V" %}</tr>
                        {% endif %}
                        {% if slot.mode == "DC" %}
                          <tr>{% value_split_field slot.voltage slot.voltage_end "V" %}</tr>
                          <tr>{% value_split_field slot.current slot.current_end "A" %}</tr>
                        {% endif %}
                        </tbody>
                      </table>
                    {% else %}
                       
                    {% endif %}
                  </td>
                {% endfor %}
              </tr>
                  {% endifequal %}
                {% endifequal %}
              </tbody>
            </table>
          </td>
        </tr>
        <tr>
          <td>
            <table style="width: 100%">
              <tbody>
              <tr>
                {% if layer.comments %}
                <td style="border: 1px dashed grey; vertical-align: top; padding: 1ex">
                    {{ layer.comments|markdown_samples:"collapse" }}
                </td>
                {% else %}
                <td> </td>
                {% endif %}
                <td style="width: 60%; vertical-align: top; padding: 1ex">
                  <table style="width: 100%; text-align: center">
                    <tbody>
                    {% if layer.h2 %}
                    <tr>
                        {% value_field layer.h2 "sccm" %}
                    </tr>
                    {% endif %}
                    {% if layer.sih4 %}
                    <tr>
                        {% value_field layer.sih4 "sccm" %}
                    </tr>
                    {% endif %}
                    {% if layer.tmb %}
                    <tr>
                        {% value_field layer.tmb "sccm" %}
                    </tr>
                    {% endif %}
                    {% if layer.co2 %}
                    <tr>
                        {% value_field layer.co2 "sccm" %}
                    </tr>
                    {% endif %}
                    {% if layer.ph3 %}
                    <tr>
                        {% value_field layer.ph3 "sccm" %}
                    </tr>
                    {% endif %}
                    {% if layer.ch4 %}
                    <tr>
                        {% value_field layer.ch4 "sccm" %}
                    </tr>
                    {% endif %}
                    {% if layer.ar %}
                    <tr>
                        {% value_field layer.ar "sccm" %}
                    </tr>
                    {% endif %}
                    {% if layer.o2 %}
                    <tr>
                        {% value_field layer.o2 "sccm" %}
                    </tr>
                    {% endif %}
                    {% if layer.ar_o2 %}
                    <tr>
                        {% value_field layer.ar_o2 "sccm" %}
                    </tr>
                    {% endif %}
                    {% if layer.geh4 %}
                    <tr>
                        {% value_field layer.geh4 "sccm" %}
                    </tr>
                    {% endif %}
                    {% if layer.b2h6 %}
                    <tr>
                        {% value_field layer.b2h6 "sccm" %}
                    </tr>
                    {% endif %}
                    {% if layer.sih4_29 %}
                    <tr>
                        {% value_field layer.sih4_29 "sccm" %}
                    </tr>
                    {% endif %}
                    </tbody>
                  </table>
                </td>
              </tr>
              </tbody>
            </table>
          </td>
        </tr>
        </tbody>
      </table>
    </td>
  </tr>
  {% endfor %}
  </tbody>
</table>
