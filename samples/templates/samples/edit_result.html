{# -*- indent-tabs-mode: nil -*- #}
{% extends "samples/base.html" %}
{% comment %}
This file is part of Chantal, the samples database.

Copyright (C) 2010 Forschungszentrum Jülich, Germany,
                   Marvin Goblet <m.goblet@fz-juelich.de>,
                   Torsten Bronger <t.bronger@fz-juelich.de>

You must not use, install, pass on, offer, sell, analyse, modify, or distribute
this software without explicit permission of the copyright holder.  If you have
received a copy of this software without the explicit permission of the
copyright holder, you must destroy it immediately and completely.
{% endcomment %}

{% load i18n %}
{% load chantal %}
{% load samples_extras %}

{% block frame_content %}
<form enctype="multipart/form-data" method="post" action="">
  {% error_list result _("Error in result") %}
  {% error_list related_data _("General error") %}
  <table class="padding5">
    <tbody>
    <tr>
      {% input_field result.title %}
      <td rowspan="2" style="vertical-align: top"><label for="id_{{ related_data.samples.html_name }}"
                                >{{ related_data.samples.label }}:</label><br/>
        {{ related_data.samples }}
      </td>
      <td rowspan="2" style="vertical-align: top"><label for="id_{{ related_data.sample_series.html_name }}"
                                >{{ related_data.sample_series.label }}:</label><br/>
        {{ related_data.sample_series }}
      </td>
    </tr>
    <tr>
      {% input_field result.comments %}
    </tr>
    <tr>
      <td class="label"><label for="id_{{ related_data.image_file.html_name }}"
                 >{{ related_data.image_file.label }}:</label></td>
      <td class="input" colspan="100">{{ related_data.image_file }}</td>
    </tr>
    {% error_list dimensions _("Error in dimensions") "<tr>" %}
    <tr>
      <td class="label"><label for="id_{{ dimensions.number_of_quantities.html_name }}"
                 >{% trans 'Number of quantities × values' %}:</label></td>
      <td class="input" colspan="100">{{ dimensions.number_of_quantities }} × {{ dimensions.number_of_values }}</td>
    </tr>
    <tbody>
  </table>

  <div style="display: none">{{ previous_dimensions.number_of_quantities }}{{ previous_dimensions.number_of_values }}</div>

  {% if quantities and value_lists %}
    <table style="margin-left: auto; margin-right: auto; text-align: center; margin-top: 2ex; border-collapse: collapse">
      <thead>
        <tr>
          {% for quantity in quantities %}
            <th style=
                "border-top: solid black 2px; border-bottom: solid black 1px; padding-top: 0.5ex; padding-bottom: 0.5ex"
                >{% error_list quantity _("Error in quantity") %}{{ quantity.quantity }}</th>
          {% endfor %}
        </tr>
      </thead>
      <tbody>
        {% for value_list in value_lists %}
          <tr>
            {% for value in value_list %}
              <td{% if forloop.parentloop.first or forloop.parentloop.last %}
                    style="{% if forloop.parentloop.first %}padding-top: 0.5ex; {% endif %}
                           {% if forloop.parentloop.last %}padding-bottom: 0.5ex; border-bottom: solid black 2px{% endif %}"
                    {% endif %}>{% error_list value _("Error in value") %}{{ value.value }}</td>
            {% endfor %}
          </tr>
        {% endfor %}
      </tbody>
    </table>
  {% endif %}

  {% include "samples/edit_description.html" %}

  <p class="submit-button" style="clear: both"><input type="submit"/></p>
</form>


{% endblock %}
