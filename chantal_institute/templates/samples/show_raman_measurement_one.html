{# -*- indent-tabs-mode: nil -*- #}
{% comment %}
This file is part of Chantal, the samples database.

Copyright (C) 2010 Forschungszentrum Jülich, Germany,
                   Marvin Goblet <m.goblet@fz-juelich.de>,
                   Torsten Bronger <t.bronger@fz-juelich.de>

You must not use, install, pass on, offer, sell, analyse, modify, or distribute
this software without explicit permission of the copyright holder.  If you have
received a copy of this software without the explicit permission of the
copyright holder, you must destroy it immediately and completely.
{% endcomment %}

{% load i18n %}
{% load samples_extras %}
{% load ipv_extras %}

{% if thumbnail %}
  <div style="float: right; page-break-inside: avoid">
    <a href="{{ figure }}"><img src="{{ thumbnail }}" alt="{{ process }}"/></a>
  </div>
{% endif %}

<table class="padding5">
  <tbody>
  <tr>
    {% value_field process.number %}
    {% value_field process.grating %}
  </tr>
  <tr>
    <td class="label">{% verbose_name RamanMeasurement.kind %}:</td>
    <td class="value"{% if process.kind != "line scan" and process.kind != "2D"%} colspan="3"{% endif %}
        >{{ process.get_kind_display }}</td>
    {% if process.kind == "line scan" or process.kind == "2D" %}
      {% value_field process.dektak_measurement %}
    {% endif %}
  </tr>
  <tr>
    {% value_field process.objective %}
    {% value_field process.slit "μm" %}
  </tr>
  <tr>
    {% value_field process.central_wavelength "nm" %}
    {% value_field process.accumulation "" %}
  </tr>
  <tr>
    <td class="label">{% verbose_name RamanMeasurement.excitation_wavelength %}:</td>
    {% if process.excitation_wavelength == "??" %}
      <td class="value">{{ process.get_excitation_wavelength_display }}</td>
    {% else %}
      <td class="value" style="background-color: {{ process|raman_color }}"
      >{{ process.get_excitation_wavelength_display|quantity:"nm" }}</td>
    {% endif %}
    {% value_field process.time "s" %}
  </tr>
  <tr>
    {% value_field process.icrs "%" %}
    {% value_field process.laser_power "mW" %}
  </tr>
  {% if process.position_a_si or process.width_a_si %}
    <tr>
      {% value_field process.position_a_si "cm⁻¹" %}
      {% value_field process.width_a_si "cm⁻¹" %}
    </tr>
  {% endif %}
  {% if process.position_muc_si or process.width_muc_si %}
    <tr>
      {% value_field process.position_muc_si "cm⁻¹" %}
      {% value_field process.width_muc_si "cm⁻¹" %}
    </tr>
  {% endif %}
  <tr>
    <td colspan="2"></td>
    <td class="label">{% verbose_name RamanMeasurement.setup %}:</td>
    <td class="value">{{ process.get_setup_display }}</td>
  </tr>
  <tr>
    <td class="label">{% verbose_name RamanMeasurement.detector %}:</td>
    <td class="value">{{ process.get_detector_display }}</td>
    {% value_field process.through_substrate "yes/no" %}
  </tr>
  {% if process.kind == "line scan" %}
    <tr>
      {% value_field process.sampling_distance_x "mm" %}
      {% value_field process.number_points_x %}
    </tr>
  {% else %}
    {% if process.kind == "2D" %}
      <tr>
        {% value_field process.sampling_distance_x "mm" %}
        {% value_field process.number_points_x %}
      </tr>
      <tr>
        {% value_field process.sampling_distance_y "mm" %}
        {% value_field process.number_points_y %}
      </tr>
    {% else %}
      {% if process.kind == "time-resolved" %}
        <tr>
          {% value_field process.sampling_period "s" %}
          {% value_field process.number_points_x %}
        </tr>
      {% endif %}
    {% endif %}
  {% endif %}
  <tr>
    <td class="label">{% verbose_name RamanMeasurement.datafile %}:</td>
    <td class="value" style="font-weight: normal" colspan="3">
    {% ifequal browser_system "windows" %}
      <a href="file:///T:/Daten/{{ process.datafile }}">
    {% else %}
      <a href="file:///mnt/T/Daten/{{ process.datafile }}">
    {% endifequal %}
      T:/Daten/{{ process.datafile }}</a></td>
  </tr>
  {% if process.evaluated_datafile %}
    <tr>
      <td class="label">{% verbose_name RamanMeasurement.evaluated_datafile %}:</td>
      <td class="value" style="font-weight: normal" colspan="3">
      {% ifequal browser_system "windows" %}
        <a href="file:///T:/Daten/{{ process.evaluated_datafile }}">
      {% else %}
        <a href="file:///mnt/T/Daten/{{ process.evaluated_datafile }}">
      {% endifequal %}
        T:/Daten/{{ process.evaluated_datafile }}</a></td>
    </tr>
  {% endif %}
  {% if process.comments %}
    <tr>
      <td class="label" style="vertical-align: top">{% verbose_name RamanMeasurement.comments %}:</td>
      <td class="value" style="font-weight: normal" colspan="3">{{ process.comments|markdown_samples:"collapse" }}</td>
    </tr>
  {% endif %}
  </tbody>
</table>
