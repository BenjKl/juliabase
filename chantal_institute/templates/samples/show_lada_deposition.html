{# -*- indent-tabs-mode: nil -*- #}
{% comment %}
This file is part of Chantal, the samples database.

Copyright (C) 2010 Forschungszentrum Jülich, Germany,
                   Marvin Goblet <m.goblet@fz-juelich.de>,
                   Torsten Bronger <t.bronger@fz-juelich.de>

You must not use, install, pass on, offer, sell, analyse, modify, or distribute
this software without explicit permission of the copyright holder.  If you have
received a copy of this software without the explicit permission of the
copyright holder, you must destroy it immediately and completely.
{% endcomment %}

{% load i18n %}
{% load samples_extras %}
{% load institute_extras %}

<p>
  <span class="label">{% verbose_name Deposition.number %}:</span><span class="value">{{ process.number }}</span>
</p>
<p>
  <span class="label">{% verbose_name LADADeposition.substrate_size %}:</span>
  <span class="value">{% if process.substrate_size %}{{ process.get_substrate_size_display }}{% else %}—{% endif %}</span>
</p>
<p>
  <span class="label">{% verbose_name LADADeposition.customer %}:</span><span class="value">{{ process.customer|get_really_full_name }}
</p>

{% if process.comments %}
  <p>
    <span class="label">{% verbose_name LADADeposition.comments %}:</span>
  </p>
  <blockquote>{{ process.comments|markdown_samples }}</blockquote>
{% endif %}

<table style="width: 100%">
  <tbody>
  {% for layer in process.layers.all %}
  <tr>
    <td style="border-style: solid; border-color: black; border-width: thin">
      <table style="width: 100%">
        <tbody>
        <tr>
          <td class="label">
            <div style="float: left">{% verbose_name LADALayer.number %}:</div>
            <div
              style="font-size:x-large; padding-left: 0.2em; padding-right: 0.2em;
                     margin-left: 0.3em;
                     border-style: solid; border-width: thin;
                     border-color: black; float: left; clear: left">{{ layer.number|four_digits }}</div>
            <div class="label" style="float: right; clear: left">{% verbose_name LADALayer.layer_type %}:</div>
          </td>
          <td class="value" style="float: left" >{{ layer.layer_type }}</td>
          <td class="label">{% verbose_name LADALayer.sih4_mfc_number_1 %}
                            {% if layer.sih4_mfc_number_1 %}#{{ layer.get_sih4_mfc_number_1_display }}{% else %}—{% endif %}:</td>
          <td class="value">{{ layer|gradient:"sih4_1"|quantity:"sccm"|default:"—" }}</td>
          <td class="label">PH<sub>3</sub> MFC #1.1:</td>
          <td class="value">{{ layer|gradient:"ph3_1"|quantity:"sccm"|default:"—" }}</td>
        </tr>
        <tr>
          <td class="label">{% verbose_name LADALayer.chamber %}:</td>
          <td class="value">{{ layer.get_chamber_display }}</td>
          <td class="label">{% verbose_name LADALayer.sih4_mfc_number_2 %}
                            {% if layer.sih4_mfc_number_2 %}#{{ layer.get_sih4_mfc_number_2_display }}{% else %}—{% endif %}:</td>
          <td class="value">{{ layer|gradient:"sih4_2"|quantity:"sccm"|default:"—" }}</td>
          <td class="label">PH<sub>3</sub> MFC #1.2:</td>
          <td class="value">{{ layer|gradient:"ph3_2"|quantity:"sccm"|default:"—" }}</td>
        </tr>
        <tr>
          <td class="label">{% verbose_name LADALayer.carrier %}:</td>
          <td class="value">{{ layer.get_carrier_display }}</td>
          <td class="label">{% verbose_name LADALayer.h2_mfc_number_1 %}
                            {% if layer.h2_mfc_number_1 %}#{{ layer.get_h2_mfc_number_1_display }}{% else %}—{% endif %}:</td>
          <td class="value">{{ layer|gradient:"h2_1"|quantity:"sccm"|default:"—" }}</td>
          <td class="label">TMB MFC #1.1:</td>
          <td class="value">{{ layer.tmb_1|quantity:"sccm"|default:"—" }}</td>
        </tr>
        <tr>
          {% value_field layer.date %}
          <td class="label">{% verbose_name LADALayer.h2_mfc_number_2 %}
                            {% if layer.h2_mfc_number_2 %}#{{ layer.get_h2_mfc_number_2_display }}{% else %}—{% endif %}:</td>
          <td class="value">{{ layer|gradient:"h2_2"|quantity:"sccm"|default:"—" }}</td>
          <td class="label">TMB MFC #1.2:</td>
          <td class="value">{{ layer.tmb_2|quantity:"sccm"|default:"—" }}</td>
        </tr>
        <tr>
          {% value_split_field layer.time_1 layer.time_2 "sec" %}
          <td class="label">{% trans 'Silane conc.' %}:</td>
          <td class="value">{{ layer|gradient:"silane_concentration"|quantity:"%"|default:"—" }} </td>
          {% value_field layer.temperature_heater_depo "℃" %}
        </tr>
        <tr>
          {% value_split_field layer.power_1 layer.power_2 "W" %}
          {% value_field layer.ch4 "sccm" %}
          {% value_field layer.temperature_substrate "℃" %}
        </tr>
        <tr>
          {% value_field layer.pressure "mbar" %}
          {% value_field layer.co2 "sccm" %}
          {% value_field layer.temperature_heater "℃" %}
        </tr>
        <tr>
          {% value_field layer.base_pressure "mbar" %}
          <td class="label">{{ layer.get_additional_gas_display|default:"—" }}:</td>
          <td class="value">{{ layer.additional_gas_flow|quantity:"sccm"|default:"—" }}</td>
          {% value_split_field layer.power_reflected_1 layer.power_reflected_2  "W" %}
        </tr>
        <tr>
          {% value_field layer.electrodes_distance "mm" %}
          {% value_split_field layer.cl_1 layer.cl_2 %}
          {% value_split_field layer.ct_1 layer.ct_2 %}
        </tr>
        <tr>
          {% value_split_field layer.u_dc_1 layer.u_dc_2 %}
          {% if layer.comments %}
          <td colspan="4" rowspan="4" style="width: 60%; border: 1px dashed grey; vertical-align: top; padding: 1ex;">
            {{ layer.comments|markdown_samples:"collapse" }}
          </td>
         {% else %}
         <td> </td>
         {% endif %}
        </tr>
        <tr style="text-align: top; vertical-align: top;">
          <td class="label">{% verbose_name LADALayer.hf_frequency %}:</td>
          <td class="value">{% if layer.hf_frequency %}{{ layer.get_hf_frequency_display|quantity:"MHz" }}
          {% else %}—{% endif %}</td>
        </tr>
        <tr>
          {% value_field layer.plasma_stop "yes/no" %}
        </tr>
        <tr>
          {% value_field layer.v_lq "m/s" %}
        </tr>
        <tr>
          {% value_field layer.pendulum_lq %}
        </tr>
        </tbody>
      </table>
    </td>
  </tr>
  {% endfor %}
  </tbody>
</table>
